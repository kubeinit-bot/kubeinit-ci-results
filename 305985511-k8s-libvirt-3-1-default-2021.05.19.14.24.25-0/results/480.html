<!DOCTYPE html>
<html lang="en" class="layout-pf">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="../static/css/patternfly.min.css">
    <link rel="stylesheet" href="../static/css/ara.css">
    
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/Kubeinit/kubeinit/master/images/favicon.ico">
    
    
</head>

<body>
    <div class="pf-c-page">
        <header role="banner" class="pf-c-page__header">
            <div class="pf-c-page__header-brand">
                <a class="pf-c-page__header-brand-link" href="../">
                    <img class="pf-c-brand" src="https://raw.githubusercontent.com/Kubeinit/kubeinit/master/images/logo_white.svg" alt="KubeInit job report">
                </a>
            </div>
            <div class="pf-c-page__header-nav">
                <nav class="pf-c-nav" aria-label="Global">
                    <button class="pf-c-nav__scroll-button" aria-label="Scroll left">
                        <i class="fas fa-angle-left" aria-hidden="true"></i>
                    </button>
                    <ul class="pf-c-nav__horizontal-list">
                        <li class="pf-c-nav__item">
                            
                            <a href="../" class="pf-c-nav__link">Playbooks</a>
                            
                        </li>
                        


                        <li class="pf-c-nav__item">
                            <a href="https://docs.kubeinit.com" class="pf-c-nav__link" target="_blank">Docs</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <main role="main" class="pf-c-page__main">
            <section class="pf-c-page__main-section pf-m-light">
                



<div class="pf-c-card pf-m-hoverable pf-c-alert pf-m-success pf-m-inline">

    <ul class="pf-c-data-list" role="list">
        <li class="pf-c-data-list__item">
            <div class="pf-c-data-list__item-row">
                <div class="pf-c-data-list__item-control pf-m-fit-content">
                    
<div class="pf-c-alert__icon" title="Playbook completed successfully">
    <i class="fas fa-check-circle" aria-hidden="true"></i>
</div>

                </div>
                <div class="pf-c-data-list__item-content">
                    <div class="pf-c-data-list__cell pf-m-fit-content">
                        <div style="padding-top:1em; white-space:nowrap;">
                            <span title="Date at which the playbook started">
                                <i class="fas fa-play-circle" aria-hidden="true"></i> 19 May 2021 14:24:45 -0400
                            </span><br>
                            <span title="Date at which the playbook ended">
                                <i class="fas fa-stop-circle" aria-hidden="true" title="Date at which the playbook ended"></i> 19 May 2021 15:15:40 -0400
                            </span>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-fit-content">
                        <div style="padding-top:1em; white-space:nowrap;" title="Duration of the playbook">
                            <i class="fas fa-stopwatch" aria-hidden="true"></i> 00:50:55.35
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-fit-content">
                        <div style="padding-top:1em; white-space:nowrap;" title="Ansible version">
                            Ansible 2.10.9
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-5">
                        <div style="padding-top:1em;" title="/root/builds/KLyGQ7Jp/0/kubeinit/kubeinit/tmp/kubeinit/playbooks/k8s.yml">
                            <a href="../playbooks/1.html">
                                ...0/kubeinit/kubeinit/tmp/kubeinit/playbooks/k8s.yml
                            </a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <div style="padding-top:1em;">
                            <a href="../playbooks/1.html#hosts">2 hosts</a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <div style="padding-top:1em;">
                            <a href="../playbooks/1.html#plays">4 plays</a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <div style="padding-top:1em;">
                            <a href="../playbooks/1.html#results">491 results</a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <div style="padding-top:1em;">
                            <a href="../playbooks/1.html#files">39 files</a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <div style="padding-top:1em;">
                            <a href="../playbooks/1.html#records">0 records</a>
                        </div>
                    </div>
                    <div class="pf-c-data-list__cell pf-m-flex-1">
                        <details id="cli-arguments-details">
                            <summary><a>CLI arguments</a></summary>
                            <table class="pf-c-table pf-m-compact pf-m-grid-md" role="grid" aria-label="cli-arguments" id="cli-arguments">
                                <thead>
                                    <tr role="row">
                                        <th role="columnheader" scope="col">Argument</th>
                                        <th role="columnheader" scope="col">Value</th>
                                    </tr>
                                </thead>
                                <tbody role="rowgroup">
                                    
                                </tbody>
                            </table>
                        </details>
                    </div>
                </div>
            </div>
            
            <div class="pf-c-data-list__item-row">
                <ul class="pf-c-chip-group pf-m-toolbar">
                    <li>
                        <h4 class="pf-c-chip-group__label">Playbook labels</h4>
                        <ul class="pf-c-chip-group">
                            
                            <li class="pf-c-chip" title="remote_user:root">
                                <span class="pf-c-chip__text">remote_user:root</span>
                                
                                
                                <a class="pf-c-button pf-m-plain" type="button" aria-label="Search for this label" disabled>
                                
                                    <i class="fas fa-search" aria-hidden="true"></i>
                                </a>
                            </li>
                            
                            <li class="pf-c-chip" title="check:False">
                                <span class="pf-c-chip__text">check:False</span>
                                
                                
                                <a class="pf-c-button pf-m-plain" type="button" aria-label="Search for this label" disabled>
                                
                                    <i class="fas fa-search" aria-hidden="true"></i>
                                </a>
                            </li>
                            
                            <li class="pf-c-chip" title="tags:all">
                                <span class="pf-c-chip__text">tags:all</span>
                                
                                
                                <a class="pf-c-button pf-m-plain" type="button" aria-label="Search for this label" disabled>
                                
                                    <i class="fas fa-search" aria-hidden="true"></i>
                                </a>
                            </li>
                            
                        </ul>
                    </li>
                </ul>
            </div>
            
        </li>
    </ul>
</div>




<div class="pf-c-card" style="margin: 1em 0;">
    <div class="pf-c-card__header pf-c-title pf-m-md">
        <h1><strong>Details</strong></h1>
        <ul class="pf-c-list">
            <li><strong>Task</strong>: ../../roles/kubeinit_k8s : Joining aditional master nodes using the PK</a></li>
            <li><strong>Action</strong>: ansible.builtin.shell</li>
            <li><strong>Path</strong>: <a href="../files/37.html#line-111">/root/builds/KLyGQ7Jp/0/kubeinit/kubeinit/tmp/kubeinit/kubeinit/roles/kubeinit_k8s/tasks/30_configure_master_nodes.yml:111</a>
            <li><strong>Host</strong>: <a href="../hosts/1.html">localhost</a></li>
            <li><strong>Status</strong>: ok</li>
            <li><strong>Started</strong>: 19 May 2021 15:14:12 -0400</li>
            <li><strong>Ended</strong>: 19 May 2021 15:15:17 -0400</li>
            <li><strong>Duration</strong>: 00:01:04.87</li>
        </ul>
    </div>
    <div class="pf-c-card__body">
        <h1><strong>Result</strong></h1>
        <table class="pf-c-table pf-m-grid-md pf-m-compact" role="grid" id="result-details">
            <thead>
                <tr role="row">
                    <th role="columnheader" scope="col" class="pf-m-width-20">Field</th>
                    <th role="columnheader" scope="col" class="pf-m-width-80">Value</th>
                </tr>
            </thead>
            <tbody>
                
                <tr role="row">
                    <td role="cell" id="changed" data-label="changed" class="pf-m-width-20">
                        <a href="#changed">changed</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>False
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="cmd" data-label="cmd" class="pf-m-width-20">
                        <a href="#cmd">cmd</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>kubeadm reset -f || true
sed &quot;s/$/    --control-plane --certificate-key c1196f06efd72b8c05ce85ecacd92e6268845ca63d67d8a12ac1e631af8065a1/g&quot; k8s_token &gt; ~/k8s_master_join_command.sh
sh k8s_master_join_command.sh
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="delta" data-label="delta" class="pf-m-width-20">
                        <a href="#delta">delta</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>0:01:04.555192
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="end" data-label="end" class="pf-m-width-20">
                        <a href="#end">end</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>2021-05-19 19:15:17.318826
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="invocation" data-label="invocation" class="pf-m-width-20">
                        <a href="#invocation">invocation</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;module_args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;_raw_params&quot;</span><span class="p">:</span> <span class="s2">&quot;kubeadm reset -f || true\nsed \&quot;s/$/    --control-plane --certificate-key c1196f06efd72b8c05ce85ecacd92e6268845ca63d67d8a12ac1e631af8065a1/g\&quot; k8s_token &gt; ~/k8s_master_join_command.sh\nsh k8s_master_join_command.sh\n&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_uses_shell&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;argv&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;chdir&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;creates&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;executable&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;removes&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;stdin&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;stdin_add_newline&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;strip_empty_ends&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;warn&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="rc" data-label="rc" class="pf-m-width-20">
                        <a href="#rc">rc</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>0
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="start" data-label="start" class="pf-m-width-20">
                        <a href="#start">start</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>2021-05-19 19:14:12.763634
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="stderr" data-label="stderr" class="pf-m-width-20">
                        <a href="#stderr">stderr</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>W0519 19:14:12.862510   64126 removeetcdmember.go:79] [reset] No kubeadm config, using etcd pod spec to get data directory
W0519 19:14:12.881112   64126 cleanupnode.go:99] [reset] Failed to evaluate the &quot;/var/lib/kubelet&quot; directory. Skipping its unmount and cleanup: lstat /var/lib/kubelet: no such file or directory
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="stderr_lines" data-label="stderr_lines" class="pf-m-width-20">
                        <a href="#stderr_lines">stderr_lines</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;W0519 19:14:12.862510   64126 removeetcdmember.go:79] [reset] No kubeadm config, using etcd pod spec to get data directory&quot;</span><span class="p">,</span>
    <span class="s2">&quot;W0519 19:14:12.881112   64126 cleanupnode.go:99] [reset] Failed to evaluate the \&quot;/var/lib/kubelet\&quot; directory. Skipping its unmount and cleanup: lstat /var/lib/kubelet: no such file or directory&quot;</span>
<span class="p">]</span>
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="stdout" data-label="stdout" class="pf-m-width-20">
                        <a href="#stdout">stdout</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span>[preflight] Running pre-flight checks
[reset] No etcd config found. Assuming external etcd
[reset] Please, manually reset etcd to prevent further issues
[reset] Stopping the kubelet service
[reset] Unmounting mounted directories in &quot;/var/lib/kubelet&quot;
[reset] Deleting contents of config directories: [/etc/kubernetes/manifests /etc/kubernetes/pki]
[reset] Deleting files: [/etc/kubernetes/admin.conf /etc/kubernetes/kubelet.conf /etc/kubernetes/bootstrap-kubelet.conf /etc/kubernetes/controller-manager.conf /etc/kubernetes/scheduler.conf]
[reset] Deleting contents of stateful directories: [/var/lib/dockershim /var/run/kubernetes /var/lib/cni]

The reset process does not clean CNI configuration. To do so, you must remove /etc/cni/net.d

The reset process does not reset or clean up iptables rules or IPVS tables.
If you wish to reset iptables, you must do so manually by using the &quot;iptables&quot; command.

If your cluster was setup to utilize IPVS, run ipvsadm --clear (or similar)
to reset your system&#39;s IPVS tables.

The reset process does not clean your kubeconfig files and you must remove them manually.
Please, check the contents of the $HOME/.kube/config file.
[preflight] Running pre-flight checks
[preflight] Reading configuration from the cluster...
[preflight] FYI: You can look at this config file with &#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;
[preflight] Running pre-flight checks before initializing the new control plane instance
[preflight] Pulling images required for setting up a Kubernetes cluster
[preflight] This might take a minute or two, depending on the speed of your internet connection
[preflight] You can also perform this action in beforehand using &#39;kubeadm config images pull&#39;
[download-certs] Downloading the certificates in Secret &quot;kubeadm-certs&quot; in the &quot;kube-system&quot; Namespace
[certs] Using certificateDir folder &quot;/etc/kubernetes/pki&quot;
[certs] Generating &quot;etcd/peer&quot; certificate and key
[certs] etcd/peer serving cert is signed for DNS names [k8s-master-03.k8scluster.kubeinit.local localhost] and IPs [10.0.0.3 127.0.0.1 ::1]
[certs] Generating &quot;etcd/healthcheck-client&quot; certificate and key
[certs] Generating &quot;apiserver-etcd-client&quot; certificate and key
[certs] Generating &quot;etcd/server&quot; certificate and key
[certs] etcd/server serving cert is signed for DNS names [k8s-master-03.k8scluster.kubeinit.local localhost] and IPs [10.0.0.3 127.0.0.1 ::1]
[certs] Generating &quot;apiserver-kubelet-client&quot; certificate and key
[certs] Generating &quot;apiserver&quot; certificate and key
[certs] apiserver serving cert is signed for DNS names [api.k8scluster.kubeinit.local k8s-master-03.k8scluster.kubeinit.local kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 10.0.0.3]
[certs] Generating &quot;front-proxy-client&quot; certificate and key
[certs] Valid certificates and keys now exist in &quot;/etc/kubernetes/pki&quot;
[certs] Using the existing &quot;sa&quot; key
[kubeconfig] Generating kubeconfig files
[kubeconfig] Using kubeconfig folder &quot;/etc/kubernetes&quot;
[kubeconfig] Writing &quot;admin.conf&quot; kubeconfig file
[kubeconfig] Writing &quot;controller-manager.conf&quot; kubeconfig file
[kubeconfig] Writing &quot;scheduler.conf&quot; kubeconfig file
[control-plane] Using manifest folder &quot;/etc/kubernetes/manifests&quot;
[control-plane] Creating static Pod manifest for &quot;kube-apiserver&quot;
[control-plane] Creating static Pod manifest for &quot;kube-controller-manager&quot;
[control-plane] Creating static Pod manifest for &quot;kube-scheduler&quot;
[check-etcd] Checking that the etcd cluster is healthy
[kubelet-start] Writing kubelet configuration to file &quot;/var/lib/kubelet/config.yaml&quot;
[kubelet-start] Writing kubelet environment file with flags to file &quot;/var/lib/kubelet/kubeadm-flags.env&quot;
[kubelet-start] Starting the kubelet
[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...
[etcd] Announced new etcd member joining to the existing etcd cluster
[etcd] Creating static Pod manifest for &quot;etcd&quot;
[etcd] Waiting for the new etcd member to join the cluster. This can take up to 40s
[upload-config] Storing the configuration used in ConfigMap &quot;kubeadm-config&quot; in the &quot;kube-system&quot; Namespace
[mark-control-plane] Marking the node k8s-master-03.k8scluster.kubeinit.local as control-plane by adding the labels &quot;node-role.kubernetes.io/master=&#39;&#39;&quot; and &quot;node-role.kubernetes.io/control-plane=&#39;&#39; (deprecated)&quot;
[mark-control-plane] Marking the node k8s-master-03.k8scluster.kubeinit.local as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule]

This node has joined the cluster and a new control plane instance was created:

* Certificate signing request was sent to apiserver and approval was received.
* The Kubelet was informed of the new secure connection details.
* Control plane (master) label and taint were applied to the new node.
* The Kubernetes control plane instances scaled up.
* A new etcd member was added to the local/stacked etcd cluster.

To start administering your cluster from this node, you need to run the following as a regular user:

	mkdir -p $HOME/.kube
	sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
	sudo chown $(id -u):$(id -g) $HOME/.kube/config

Run &#39;kubectl get nodes&#39; to see this node join the cluster.
</pre></div>

                    </td>
                </tr>
                
                <tr role="row">
                    <td role="cell" id="stdout_lines" data-label="stdout_lines" class="pf-m-width-20">
                        <a href="#stdout_lines">stdout_lines</a>
                    </td>
                    <td role="cell" data-label="Value" class="pf-m-width-80">
                        <div class="codehilite"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;[preflight] Running pre-flight checks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] No etcd config found. Assuming external etcd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Please, manually reset etcd to prevent further issues&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Stopping the kubelet service&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Unmounting mounted directories in \&quot;/var/lib/kubelet\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Deleting contents of config directories: [/etc/kubernetes/manifests /etc/kubernetes/pki]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Deleting files: [/etc/kubernetes/admin.conf /etc/kubernetes/kubelet.conf /etc/kubernetes/bootstrap-kubelet.conf /etc/kubernetes/controller-manager.conf /etc/kubernetes/scheduler.conf]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[reset] Deleting contents of stateful directories: [/var/lib/dockershim /var/run/kubernetes /var/lib/cni]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;The reset process does not clean CNI configuration. To do so, you must remove /etc/cni/net.d&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;The reset process does not reset or clean up iptables rules or IPVS tables.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;If you wish to reset iptables, you must do so manually by using the \&quot;iptables\&quot; command.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;If your cluster was setup to utilize IPVS, run ipvsadm --clear (or similar)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to reset your system&#39;s IPVS tables.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;The reset process does not clean your kubeconfig files and you must remove them manually.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Please, check the contents of the $HOME/.kube/config file.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] Running pre-flight checks&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] Reading configuration from the cluster...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] FYI: You can look at this config file with &#39;kubectl -n kube-system get cm kubeadm-config -o yaml&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] Running pre-flight checks before initializing the new control plane instance&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] Pulling images required for setting up a Kubernetes cluster&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] This might take a minute or two, depending on the speed of your internet connection&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[preflight] You can also perform this action in beforehand using &#39;kubeadm config images pull&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[download-certs] Downloading the certificates in Secret \&quot;kubeadm-certs\&quot; in the \&quot;kube-system\&quot; Namespace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Using certificateDir folder \&quot;/etc/kubernetes/pki\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;etcd/peer\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] etcd/peer serving cert is signed for DNS names [k8s-master-03.k8scluster.kubeinit.local localhost] and IPs [10.0.0.3 127.0.0.1 ::1]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;etcd/healthcheck-client\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;apiserver-etcd-client\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;etcd/server\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] etcd/server serving cert is signed for DNS names [k8s-master-03.k8scluster.kubeinit.local localhost] and IPs [10.0.0.3 127.0.0.1 ::1]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;apiserver-kubelet-client\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;apiserver\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] apiserver serving cert is signed for DNS names [api.k8scluster.kubeinit.local k8s-master-03.k8scluster.kubeinit.local kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 10.0.0.3]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Generating \&quot;front-proxy-client\&quot; certificate and key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Valid certificates and keys now exist in \&quot;/etc/kubernetes/pki\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[certs] Using the existing \&quot;sa\&quot; key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubeconfig] Generating kubeconfig files&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubeconfig] Using kubeconfig folder \&quot;/etc/kubernetes\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubeconfig] Writing \&quot;admin.conf\&quot; kubeconfig file&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubeconfig] Writing \&quot;controller-manager.conf\&quot; kubeconfig file&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubeconfig] Writing \&quot;scheduler.conf\&quot; kubeconfig file&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[control-plane] Using manifest folder \&quot;/etc/kubernetes/manifests\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[control-plane] Creating static Pod manifest for \&quot;kube-apiserver\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[control-plane] Creating static Pod manifest for \&quot;kube-controller-manager\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[control-plane] Creating static Pod manifest for \&quot;kube-scheduler\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[check-etcd] Checking that the etcd cluster is healthy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubelet-start] Writing kubelet configuration to file \&quot;/var/lib/kubelet/config.yaml\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubelet-start] Writing kubelet environment file with flags to file \&quot;/var/lib/kubelet/kubeadm-flags.env\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubelet-start] Starting the kubelet&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap...&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[etcd] Announced new etcd member joining to the existing etcd cluster&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[etcd] Creating static Pod manifest for \&quot;etcd\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[etcd] Waiting for the new etcd member to join the cluster. This can take up to 40s&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[upload-config] Storing the configuration used in ConfigMap \&quot;kubeadm-config\&quot; in the \&quot;kube-system\&quot; Namespace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[mark-control-plane] Marking the node k8s-master-03.k8scluster.kubeinit.local as control-plane by adding the labels \&quot;node-role.kubernetes.io/master=&#39;&#39;\&quot; and \&quot;node-role.kubernetes.io/control-plane=&#39;&#39; (deprecated)\&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;[mark-control-plane] Marking the node k8s-master-03.k8scluster.kubeinit.local as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;This node has joined the cluster and a new control plane instance was created:&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;* Certificate signing request was sent to apiserver and approval was received.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;* The Kubelet was informed of the new secure connection details.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;* Control plane (master) label and taint were applied to the new node.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;* The Kubernetes control plane instances scaled up.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;* A new etcd member was added to the local/stacked etcd cluster.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;To start administering your cluster from this node, you need to run the following as a regular user:&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;\tmkdir -p $HOME/.kube&quot;</span><span class="p">,</span>
    <span class="s2">&quot;\tsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config&quot;</span><span class="p">,</span>
    <span class="s2">&quot;\tsudo chown $(id -u):$(id -g) $HOME/.kube/config&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Run &#39;kubectl get nodes&#39; to see this node join the cluster.&quot;</span>
<span class="p">]</span>
</pre></div>

                    </td>
                </tr>
                
            </tbody>
        </table>
    </div>
</div>

            </section>
            <section class="pf-c-page__main-section">
            </section>
        </main>
    </div>
</body>

</html>